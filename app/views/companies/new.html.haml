= form_for Company.new, {action: companies_path, method: 'post', name: "form1"} do |f|
	= f.label(:name, "Name: ")
	= f.text_field(:name)
	= f.label(:size, "Size: ")
	= f.number_field(:size)
	= f.label(:avatar, "Upload Logo: ")
	= f.file_field(:avatar)
	= f.label(:status, "Hiring")
	= f.radio_button(:status, "Hiring")
	= f.label(:status, "Seeking funding")
	= f.radio_button(:status, "Seeking funding")
	%input#location.textbox{name: "company[location]", type: "text-field", value: ""}/
	= f.hidden_field :latitude
	= f.hidden_field :longitude
	= f.submit("Create")



:javascript
	//Autocomplete variables
	var input = document.getElementById('location');
	var searchform = document.getElementById('form1');
	var place;
	var autocomplete = new google.maps.places.Autocomplete(input);

	//Google Map variables
	var map;
	var marker;

	//Add listener to detect autocomplete selection
	google.maps.event.addListener(autocomplete, 'place_changed', function () {
	    place = autocomplete.getPlace();
	    //console.log(place);
	});

	//Add listener to search
	searchform.addEventListener("submit", function() {
	    var newlatlong = new google.maps.LatLng(place.geometry.location.lat(),place.geometry.location.lng());
	    map.setCenter(newlatlong);
	    marker.setPosition(newlatlong);
	    map.setZoom(12);

	});
	 
	//Reset the inpout box on click
	input.addEventListener('click', function(){
	    input.value = "";
	});



	function initialize() {
	  var myLatlng = new google.maps.LatLng(51.517503,-0.133896);
	  var mapOptions = {
	    zoom: 1,
	    center: myLatlng
	  }
	  map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);

	  marker = new google.maps.Marker({
	      position: myLatlng,
	      map: map,
	      title: 'Main map'
	  });
	}

	google.maps.event.addDomListener(window, 'load', initialize);